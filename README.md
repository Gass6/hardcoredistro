# Hardcore Distro
Simple e-shop application with Java EE 8 and deployed on Payara 5 Web.

## Functionality
First, I want to make it work. Features will be limited, people will only be able to buy records "on paper". Then, I'll add Stripe integration to actually pay for the orders.

The project is intended to be deployed properly on Jelastic and used by people. The first release will be mainly for testing purposes, if it's acceptable I'll see to add Stripe payments. I'll keep the entities and their relationships fairly simple, I'm not expecting such traffic that will lag the DB. 

## PostgreSQL
The database must be running on port 5432. A database with name "postgres" must be present and a schema named "potori". Then add the SQL data in the "sql-test-data" folder.

## Payara - PostgreSQL connectivity
I've configured Payara to connect with the DB and keep a connection pool, since I'll be using the same DB for auth purposes.

### JDBC connection pool
Pool name: HardcoreDistroDB

Resource type: javax.sql.DataSource

Datasource classname: org.postgresql.ds.PGSimpleDatasource

DatabaseName: postgres

Url: jdbc:postgresql://localhost:5432/postgres?currentSchema=potori

portNumber: 5432

serverName: localhost

user: postgres

password: 72525

### JDBC resource
JNDI name: jdbc/HardcoreDistroPool

Connection pool: HardcoreDistroDB

## Docker - build and run
The following were generated by the archetype, created by Adam Bien. Just running the container like so will not work with the DB, I must set it up in the deployment descriptor. Not a priority right now, am not thinking of running Docker anytime soon. 

mvn clean package && docker build -t vs/hardcoredistro .

docker rm -f hardcoredistro || true && docker run -d -p 8080:8080 -p 4848:4848 --name hardcoredistro vs/hardcoredistro 
